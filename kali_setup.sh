#!/bin/bash
sudo rm -rf /etc/apt/sources.list
echo "deb http://http.kali.org/kali kali-rolling main non-free contrib" | sudo tee /etc/apt/sources.list

cd /etc/ssh/
mkdir default_kali_keys
mv ssh_host_* default_kali_keys/

dpkg-reconfigure openssh-server

sudo apt-get update -y
sudo apt-get upgrade -y

sudo apt-get install apt-transport-https

sudo rm -rf /etc/apt/sources.list
sudo touch /etc/apt/sources/list
echo "deb https://http.kali.org/kali kali-rolling main non-free contrib" | sudo tee /etc/apt/sources.list

sudo apt-get install git -y
sudo apt-get install sublist3r -y
sudo apt-get install xclip -y
sudo apt-get install python3-pip -y
sudo apt-get install golang -y
sudo apt-get install zaproxy -y
sudo apt-get install python3-venv -y

cd ~
sudo git clone https://github.com/robertlackey/vimrc.git 
sudo git clone https://github.com/robertlackey/tmux.conf.git 
sudo mv ~/vimrc/vimrc ../.vimrc
sudo mv ~/tmux.conf/tmux.conf ../.tmux.conf

sudo rm -rf ~/vimrc
sudo rm -rf ~/tmux.conf

cd /opt/
sudo git clone https://github.com/SecureAuthCorp/impacket.git
sudo git clone https://github.com/Hackplayers/evil-winrm.git
sudo git clone https://github.com/rebootuser/LinEnum.git
sudo git clone https://github.com/411Hall/JAWS.git
sudo git clone https://github.com/mzet-/linux-exploit-suggester.git
sudo git clone https://github.com/carlospolop/privilege-escalation-awesome-scripts-suite.git

sudo gem install winrm >=2.3.2
sudo gem install winrm-fs >=1.3.2 
sudo gem install stringio >=0.0.2

sudo pip install pyasn1
sudo pip install pyOpenSSL
sudo pip install pycryptodomex
sudo pip install ldapdomaindump
sudo pip install flask
sudo pip install ldap3
sudo pip install pyReadline

mkdir ffuf
cd /opt/ffuf
sudo wget https://github.com/ffuf/ffuf/releases/download/v0.12/ffuf_0.12_linux_amd64.tar.gz
sudo gunzip ffuf_0.12_linux_amd64.tar.gz
sudo tar -xvf ffuf_0.12_linux_amd64.tar
sudo rm ffuf_0.12_linux_amd64.tar

cd /usr/share/wordlists/
sudo git clone https://github.com/danielmiessler/SecLists.git

sudo wget -qO - https://download.sublimetext.com/sublimehq-pub.gpg | sudo apt-key add -
echo "deb https://download.sublimetext.com/ apt/stable/" | sudo tee /etc/apt/sources.list.d/sublime-text.list

git clone https://github.com/gmarik/Vundle.vim.git ~/.vim/bundle/Vundle.vim
echo "Installed Vundle. Open Vim and Type :PluginInstall"

sudo apt-get install ufw
#sudo ufw enable
#sudo ufw default deny incoming 

echo -e "\n\n\n\n\n\n\n\nDone! All tools are set up in /opt/"
